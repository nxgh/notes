Linux链接分两种，*Hard Link*（硬链接）与 *Symbolic Link*（符号链接,软链接）


ln 命令

`ln` 命令默认创建的是硬链接，如果加了 `-s` 参数则会生成一个软连接


## Hard Link

Linux 下的文件是通过索引节点（Inode）来识别文件，在 Linux 的文件系统中，保存在磁盘分区中的文件不管是什么类型都给它分配一个编号，称为索引节点号 (Inode Number)

在 Linux 中，多个文件名指向同一索引节点是存在的，所以硬连接指通过索引节点来进行的连接，即每一个硬链接都是一个指向对应区域的文件

```bash
touch foo.txt
ln foo.txt bar.txt 
ls -li 
119914 -rw-r--r-- Aug 15 10:49 bar.txt
119914 -rw-r--r-- Aug 15 10:49 foo.txt
```
119914 是文件的 inode, (类似于指针), 它指向了物理硬盘的一个区块，事实上文件系统会维护一个引用计数，只要有文件指向这个区块，它就不会从硬盘上消失

硬链接的作用是允许一个文件拥有多个有效路径名，这样用户就可以建立硬链接到重要文件,以防止“误删”的功能，由于对应该目录的索引节点有一个以上的连接，假设我们删除了原始的`foo.txt`文件

```bash
rm -f foo.txt
```
此时文件的内容依然存在，所以只删除一个连接并不影响索引节点本身和其它的连接，只有当最后一个链接被删除后，文件的数据块及目录的连接才会被释放，也就是说，文件才会被真正删除

## Symbolic Link

软链接又叫符号链接，这个文件包含了另一个文件的路径名

软连接可以是任意文件或目录，可以链接不同文件系统的文件，在对符号文件进行读或写操作的时候，系统会自动把该操作转换为对源文件的操作，但删除链接文件时，系统仅仅删除链接文件，而不删除源文件本身，这一点类似于 Windows 操作系统下的快捷方式。


| Symbolic Link | Hard Link                       |
|---------------|---------------------------------|
| inode         | 源文件与链接文件拥有不同的inode, 表明它们是两个不同文件 | 源文件与链接文件共用一个 inode，表明他们是同一个文件 |
| 文件属性          | 明确写出是链接文件                       | 没有写出，本质上硬链接文件与源文件完全平等         |
| 跨越文件系统建立      | 支持                              | 不支持                           |
| 链接数目          | 不会增加，文件大小不一样                    | 链接文件显示的大小与源文件一样               |

